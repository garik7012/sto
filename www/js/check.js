$(document).ready(function(){$('form').submit(function(e){data=$(this).serializeArray();dataForm={};$.each(data,function(){dataForm[this.name]=this.value;});if(!dataForm.fio)return true;var errors=false;$('.errorSpan').remove();$('.has-error').removeClass('has-error');if(('service_id'in dataForm)&&dataForm.service_id=='0'){$('select[name="service_id"]').addClass('has-error');}if(('auto_year'in dataForm)&&dataForm.auto_year=='0'){$('select[name="auto_year"]').addClass('has-error');}if(('auto_year'in dataForm)&&!dataForm.order_time){$('.g-order_time').addClass('has-error');}var fio=dataForm.fio;var reg=/^[а-яА-ЯёЁa-zA-Z - \d]+$/;var err='';if(fio.length<2)err="Не менее 2-х символов";if(fio.length>55)err="Не более 55 символов";if(!reg.test(fio))err='Только буквы русского и латинского алфавита, знак "-" (дефис), пробел';if(err)errors=showError('fio',err);var reg=/^([+]?[0-9\s-\(\)]{5,25})*$/;var phone=dataForm.phone;if(!reg.test(phone))err='неверный номер';if(err)errors=showError('phone',err);if(errors)return false;return true;});var showError=function(fieldName,err){errorField=$('<span class="errorSpan help-block"><strong></strong></span>');eF=errorField.clone();eF.children().text(err);$('input[name='+fieldName+']').after(eF);$('input[name='+fieldName+']').addClass('has-error');return true;}});